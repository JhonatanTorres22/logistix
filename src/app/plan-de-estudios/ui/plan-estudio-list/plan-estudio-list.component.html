<div class="row"> <!-- flex flex-column sm:flex-row gap-3 justify-content-around -->
    <!-- <pre>
        {{ planesDeEstudio() | json }}
    </pre> -->
    <!-- @if ( currentInfoDirector().length > 0 ) {
        <div class="flex justify-content-end">
            <ui-button color="primary" (onClick)="showSemestres( semestreOptions )">{{ semestreSelect().id != 0 ? semestreSelect().codigo : 'Seleccione un semestre' }}</ui-button>
        </div>
    } -->

    <!-- @if ( planesDeEstudio().length == 0 ) {
        <ui-card-not-items ></ui-card-not-items>
    } -->

    @for (plan of planesDeEstudio(); track plan) {
        <div class="col-12 col-sm-6 col-md-6 col-xl-3 text-center" (click)="selectPlan( plan )" [ngClass]="{'bg-blue-200': planEstudioSelect().id == plan.id && isModal(), 'col-12 col-xl-6': isModal()}">
            <plan-estudio-card [planEstudio]="plan"></plan-estudio-card>
            <!-- <app-card headerClass="py-2 px-2 block" cardClass="m-0">
                <ng-template #headerTitleTemplate class="align-items-center">
                    <div class="f-w-600 f-14">{{ plan.nombre }}</div>
                </ng-template>
                <div class="flex flex-column">
                    <div>{{ plan.resolucion || 'Sin Resolución' }}</div>
                </div>
                <div class="flex align-items-center my-2">
                    <div class="avatar avatar-xs flex-shrink-0 m-r-10">
                        <i class="f-18 ti ti-arrow-down"></i> 
                    </div>
                    <span class="flex-grow-1 text-truncate w-100"> Inicio</span>
                    <div class="w-100 bg-success-500 mat-small text-center text-white user-status f-w-600"> 21-05-2021 </div>
                </div>
                <div class="flex align-items-center my-2">
                    <div class="avatar avatar-xs flex-shrink-0 m-r-10">
                        <i class="f-18 ti ti-arrow-down"></i> 
                    </div>
                    <span class="flex-grow-1 text-truncate w-100"> Fin</span>
                    <div class="w-100 bg-success-500 mat-small text-center text-white user-status f-w-600"> 21-05-2024 </div>
                </div>
                <div class="flex align-items-center my-2">
                    <div class="avatar avatar-xs flex-shrink-0 m-r-10">
                        <i class="f-18 ti ti-arrow-down"></i> 
                    </div>
                    <span class="flex-grow-1 text-truncate w-100"> Estado</span>
                    <div class="w-100 bg-success-500 mat-small text-center text-white user-status f-w-600"> Vigente </div>
                </div>
                <div class="flex align-items-center my-2">
                    <div class="avatar avatar-xs flex-shrink-0 m-r-10">
                        <i class="f-18 ti ti-arrow-down"></i> 
                    </div>
                    <span class="flex-grow-1 text-truncate w-100"> Matrícula</span>
                    <div class="w-100 bg-success-500 mat-small text-center text-white user-status f-w-600"> Asignado </div>
                </div>
                @if ( !isModal() ) {
                    <ng-template #actionTemplate>
                        <div class="flex gap-2 justify-content-around w-full">
                            <ui-button tooltip="Eliminar" color="red" icon="ti ti-trash f-18" (onClick)="eliminarConfirm( plan )"></ui-button>
                            <ui-button tooltip="Editar" color="blue" icon="ti ti-pencil f-18" (onClick)="showFormEdit( plan, planEstudioAdd )"></ui-button>
                            <ui-button tooltip="Ver Malla" color="cyan" icon="ti ti-eye f-18" (onClick)="verMalla( plan )"></ui-button>
                        </div>
                    </ng-template>
                }
            </app-card> -->
            <!-- <div class="border-1 border-round p-10 border-gray-400 text-center h-full">
                
            </div> -->
        </div>
    }
    <div class="col-12 col-sm-6 col-md-6 col-xl-3 text-cente" [ngClass]="{'col-12 col-xl-6': isModal() }">
        <app-card [showHeader]="false" cardClass="block h-full m-auto" cardContentClass="m-auto text-center">
            <p>Agregar Plan de Estudio</p>
            <mat-divider class="mb-2"></mat-divider>
            <ui-button-icon icon="ti ti-plus f-18 border-circle p-3" color="primary" tooltip="Agregar" (onClick)="agregarPlan(planEstudioAdd)"></ui-button-icon>
        </app-card>
        <!-- <div class="flex align-item-center justify-content-center border-1 border-round p-10 border-dashed border-gray-400 h-full">
        </div> -->
    </div>

</div>
<!-- <pre>
    {{ idPrograma() }}
    {{ idSemestres() }}
    {{ currentInfoDirector() | json}}
</pre> -->

<ng-template #planEstudioAdd let-data>
    <plan-estudio-add></plan-estudio-add>
</ng-template>

<ng-template #semestreOptions let-data>
    <semestre-options [idSemestres]="idSemestres()"></semestre-options>
</ng-template>

