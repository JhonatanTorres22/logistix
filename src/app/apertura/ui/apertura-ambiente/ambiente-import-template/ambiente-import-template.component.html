@if ( !loadingImport()) {
  @if(file().files.length == 0 && listarAmbienteAnterior().length == 0){
      <ui-uploader-files typeFile=".xlsx"></ui-uploader-files>
      <div class="flex justify-content-center mt-2">
          <ui-button color="blue" (onClick)="descargarPlantilla()">Descargar Plantilla</ui-button>
      </div>
  }
  @else {
      <app-card headerClassTemplate="py-10 flex justify-content-between align-item-center w-full">
          <ng-template #headerTitleTemplate>
            <div class="block pb-2">
              <div>Lista de Ambientes</div>
              @if(listarAmbienteAnterior().length > 0){
                <span class="bg-red-200 text-red-800 p-1 border-round text-xs font-bold boton-parpadeante"> 
                  Hemos realizado una búsqueda exhaustiva y se han encontrado los siguientes ambientes para que pueda importar
                </span>
              }@else {
                <div class="bg-blue-200 text-blue-800 p-1 border-round text-xs font-bold boton-parpadeante">
                  En los tipos de ambientes recuerde que contamos con 5: AULA, AULA HÍBRIDA, LABORATORIO, TALLER Y ZOOM, por favor tener en cuenta ello, o tendrán problemas de validación
                </div>
              }
            </div>
              <div class="flex justify-content-end gap-2">
                <ui-button color="primary" icon="ti ti-refresh" matTooltip="Cambiar Archivo" (onClick)="file.set(mensajeriaSignal.fileDefault)"></ui-button>
                <!-- <ui-button color="primary" icon="ti ti-file-search" matTooltip="Validar cursos" (onClick)="validar()"></ui-button> -->
              </div>
          </ng-template>
          <div class="p-b-5">
              <div class="table-containe table-reponsive">
                  <div class="table-search p-0">
                    <mat-form-field appearance="outline" class="w-100">
                      <input matInput (keyup)="applyFilter($event)" placeholder="Buscar curso...." #input />
                    </mat-form-field>
                  </div>
                  <div class="table-responsive">
                    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                      <!-- Name Column -->
                      <ng-container matColumnDef="nombreAmbiente">
                        <th mat-header-cell *matHeaderCellDef> Nombre </th>
                        <td mat-cell *matCellDef="let ambiente">{{ ambiente.nombreAmbiente }}
                        </td>
                      </ng-container>
      
      
                      <ng-container matColumnDef="pabellon">
                        <th mat-header-cell *matHeaderCellDef> Pabellón </th>
                        <td mat-cell *matCellDef="let ambiente" class="text-nowrap"> {{ ambiente.nombrePabellon }} </td>
                      </ng-container>

                      <ng-container matColumnDef="nivel">
                        <th mat-header-cell *matHeaderCellDef> Nivel </th>
                        <td mat-cell *matCellDef="let ambiente"> {{ ambiente.nivelAmbiente }} </td>
                    </ng-container>
                           
                      <ng-container matColumnDef="tipoAmbiente">
                          <th mat-header-cell *matHeaderCellDef> Tipo de Ambiente </th>
                          <td mat-cell *matCellDef="let ambiente"> {{ ambiente.tipoDeAmbiente }} </td>
                      </ng-container>
                      
                      <ng-container matColumnDef="aforo">
                          <th mat-header-cell *matHeaderCellDef> Aforo </th>
                          <td mat-cell *matCellDef="let ambiente"> {{ ambiente.aforo }} </td>
                      </ng-container>
  
                      <ng-container matColumnDef="discapacidad">
                          <th mat-header-cell *matHeaderCellDef> Discapacidad </th>
                          <td mat-cell *matCellDef="let ambiente"> {{ ambiente.discapacidad }} </td>
                      </ng-container>
  
                      <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef class="text-center">  </th>
                        <td mat-cell *matCellDef="let usuario">
                          <!-- <div class="text-center text-nowrap">
                            <ul class="list-inline p-l-0">
                              <li class="list-inline-item m-r-10" matTooltip="Asignar Rol">
                                <a href="javascript:" class="avatar avatar-xs text-muted">
                                  <i class="ti ti-eye f-18"></i>
                                </a>
                              </li>
                              
                                <li class="list-inline-item m-r-10" matTooltip="Editar" >
                                  <a href="javascript:" class="avatar avatar-xs text-muted">
                                    <i class="ti ti-edit-circle f-18"></i>
                                  </a>
                                </li>
                              
      
                            </ul>
                          </div> -->
                        </td>
                      </ng-container>
      
                      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      
                      <!-- Row shown when there is no matching data. -->
                      <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="4">No data matching the filter "{{ input.value }}"</td>
                      </tr>
                    </table>
                    <mat-paginator [pageSizeOptions]="[100]" [pageSize]="100" aria-label="Select page of users"></mat-paginator>
                  </div>
                </div>
          </div>
      </app-card>
  }
}@else {
  <ui-loading-progress-bar></ui-loading-progress-bar>
}
