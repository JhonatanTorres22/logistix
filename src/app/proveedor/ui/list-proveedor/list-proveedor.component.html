@if (!loading) {
    <div class="flex justify-end items-center space-x-3 mt-3 right-0 mr-4 lg:mr-6 gap-2">
    <button mat-flat-button color="primary" class="b-rad-20 abrirModal"
        (click)="addEditModalProveedor( add_edit_proveedor ,proveedorDefault)">
        <div class="flex align-item-center">
            <i class="ti ti-upload f-18 m-r-5"></i> Agregar Proveedor
        </div>
    </button>
</div>

<div class="lg:mb-2"></div>
<div class="mb-2"></div>


<app-card cardTitle="Lista de Proveedores">
    <div class="p-b-5">
        <div class="table-containe table-reponsive">
            <div class="table-search p-0">
                <mat-form-field appearance="outline" class="w-100">
                    <input matInput (keyup)="applyFilter($event)" placeholder="Buscar proveedor...." #input />
                </mat-form-field>
            </div>

            <div class="table-reponsive">
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                    <ng-container matColumnDef="nombreRs">
                        <th mat-header-cell *matHeaderCellDef> NOMBRE </th>
                        <td mat-cell *matCellDef="let proveedor" class="text-nowrap"> {{ proveedor.nombreRs }} </td>
                    </ng-container>

                    <ng-container matColumnDef="ruc">
                        <th mat-header-cell *matHeaderCellDef> RUC </th>
                        <td mat-cell *matCellDef="let proveedor" class="text-nowrap"> {{ proveedor.ruc }} </td>
                    </ng-container>

                    <ng-container matColumnDef="direccionFiscal">
                        <th mat-header-cell *matHeaderCellDef> DIRECCIÓN </th>
                        <td mat-cell *matCellDef="let proveedor" class="text-nowrap"> {{ proveedor.direccionFiscal }}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="tipo">
                        <th mat-header-cell *matHeaderCellDef> TIPO </th>
                        <td mat-cell *matCellDef="let proveedor" class="text-nowrap"> {{ proveedor.tipo }} </td>
                    </ng-container>

                    <ng-container matColumnDef="acciones">
                        <th mat-header-cell *matHeaderCellDef class="text-center"> Acciones </th>
                        <td mat-cell *matCellDef="let proveedor">
                            <div class="flex text-center ">
                                <button mat-menu-item class="text-blue-500"
                                    (click)="addEditModalProveedor( add_edit_proveedor ,proveedor)">
                                    <i class="ti ti-edit f-18 text-blue-500"></i>
                                </button>
                                <button mat-menu-item (click)="eliminarConfirm(proveedor)" class="text-red-500">
                                    <i class="ti ti-trash f-18 text-red-500"></i>
                                </button>

                                <button mat-menu-item (click)="openModalCriterios(criterios, proveedor)" class="text-green-500">
                                    <i class="ti ti-file-check f-18 text-green-500"></i>
                                </button>
                            </div>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

                    <!-- Row shown when there is no matching data. -->
                    <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="4">No se encontró el proveedor"{{ input.value }}"</td>
                    </tr>

                </table>
                <mat-paginator [pageSizeOptions]="[10, 25, 100]" aria-label="Select page of users"></mat-paginator>
            </div>

        </div>
    </div>

</app-card>


<ng-template #add_edit_proveedor let-data>
    <app-add-edit-proveedor></app-add-edit-proveedor>
</ng-template>

<ng-template #criterios let-data>
    <app-list-criterios></app-list-criterios>
</ng-template>
}
@else {
    <ui-loading-progress-bar></ui-loading-progress-bar>
}